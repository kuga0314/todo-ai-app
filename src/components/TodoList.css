/* src/components/TodoList.css */

/* 操作エリア */
.list-controls {
  display: flex;
  flex-wrap: wrap;
  gap: .75rem;
  margin-bottom: 1rem;
  align-items: flex-start; /* ← 折り返し時に潰れない */
  justify-content: space-between;
}

.filter-row { display: flex; gap: .5rem; flex-wrap: wrap; }

.filter-select {
  padding: .4rem .6rem;
  border-radius: 8px;
  border: 1px solid #d0d7de;
  font-size: .85rem;
  background: #fff;
  cursor: pointer;
  min-width: 150px;          /* ← つぶれ防止 */
}
.filter-select--label { min-width: 170px; }

/* セグメントボタン */
.segmented {
  display: inline-flex;
  padding: 4px;
  background: #eef2f7;
  border-radius: 999px;
  box-shadow: inset 0 0 0 1px rgba(0,0,0,.04);
}
.seg-btn {
  appearance: none;
  border: none;
  background: transparent;
  padding: .4rem .9rem;
  font-weight: 600;
  font-size: .9rem;
  border-radius: 999px;
  color: #334155;
  cursor: pointer;
}
.seg-btn:hover { background: rgba(0,0,0,.06); }
.seg-btn.is-active { background:#fff; color:#0b1220; box-shadow:0 1px 2px rgba(0,0,0,.06); }

/* 未完のみスイッチ */
.switch { display:inline-flex; align-items:center; gap:.5rem; cursor:pointer; }
.switch input { position:absolute; opacity:0; }
.switch-track {
  width:40px; height:20px; background:#d1d5db; border-radius:999px; position:relative;
}
.switch-track::after {
  content:""; position:absolute; top:3px; left:3px; width:14px; height:14px;
  background:#fff; border-radius:999px; box-shadow:0 1px 2px rgba(0,0,0,.2);
  transition: transform .2s ease;
}
.switch input:checked + .switch-track { background: var(--primary); }
.switch input:checked + .switch-track::after { transform: translateX(20px); }
.switch-label { font-weight:600; color:#334155; }

/* リスト/カード */
.list { list-style:none; padding:0; margin:0; }
.todo-item {
  background: var(--card-bg);
  border-radius: var(--r-lg);
  box-shadow: var(--shadow-sm);
  padding: .8rem 1rem;
  margin-bottom: .75rem;
  display:flex;
  justify-content: space-between;
  align-items:flex-start;
  border: 2px solid transparent;   /* ラベル色で上書き */
  transition: border-color .18s ease;
}
.todo-item:hover { border-color: rgba(0,0,0,.15); }

.todo-content { flex:1; }
.todo-main { display:flex; align-items:center; gap:.5rem; }
.todo-title { font-size:1rem; font-weight:700; }
.todo-title.is-done { text-decoration:line-through; color:#777; }

/* ラベルチップ */
.label-chip {
  display: inline-block;
  padding: 2px 8px;
  font-size: .75rem;
  font-weight: 700;
  color: #fff;
  border-radius: 999px;
  line-height: 1.2;
  transform: translateY(-1px);
}

/* メタ行 */
.meta-lines { margin-top:.5rem; display:flex; flex-direction:column; gap:.25rem; }
.meta-line {
  display:flex; align-items:center; gap:.5rem;
  font-size:.88rem; color:#1f2a37; flex-wrap:wrap;
}
.meta-label { color:#6a7785; font-weight:600; }
.meta-value { font-weight:600; }
.note { color:#0d9488; }
.spacer { flex: 0 0 12px; }

/* バッジ */
.badge { display:inline-block; padding:2px 8px; border-radius:999px; font-size:12px; font-weight:700; color:#fff; }
.badge-priority-1 { background:#16a34a; }
.badge-priority-2 { background:#f59e0b; }
.badge-priority-3 { background:#dc2626; }
.badge-scale-1,
.badge-scale-2,
.badge-scale-3,
.badge-scale-4,
.badge-scale-5 { background: var(--primary); }

/* アクション */
.icon-btn { border:none; background:transparent; cursor:pointer; font-size:16px; padding:.25rem .35rem; border-radius:6px; align-self:flex-start; }
.icon-btn:hover { background:#f5f5f5; }
.delete-btn { color:#c33; }
.delete-btn:hover { background:#fde8e8; }

/* モバイル */
@media (max-width: 820px) {
  .meta-line { font-size:.84rem; }
}
